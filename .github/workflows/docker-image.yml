name: export-docker-image

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-22.04  # ä½¿ç”¨æ›´ç¨³å®šç‰ˆæœ¬çš„ runner

    steps:
      - name: ğŸ§¾ è·å–é¡¹ç›®ä»£ç 
        uses: actions/checkout@v3

      - name: ğŸ›  æ„å»º Docker é•œåƒ
        run: docker build -t my-image .

      - name: ğŸ“¦ ä¿å­˜é•œåƒä¸ºå‹ç¼©åŒ…
        run: docker save my-image | gzip > my-image.tar.gz

      - name: â˜ï¸ ä¸Šä¼ å‹ç¼©åŒ…ä¾›ä¸‹è½½
        uses: actions/upload-artifact@v2  # âœ… æ”¹æˆ v2
        with:
          name: docker-image
          path: my-image.tar.gz

